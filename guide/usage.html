<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Usage | Vuex ORM Axios</title>
    <meta name="description" content="Vuex ORM persistence plugin to sync the store against a RESTful API.">
    
    
    <link rel="preload" href="/plugin-axios/assets/css/0.styles.ba2fb61d.css" as="style"><link rel="preload" href="/plugin-axios/assets/js/app.12a3e5b4.js" as="script"><link rel="preload" href="/plugin-axios/assets/js/2.3e3116f1.js" as="script"><link rel="preload" href="/plugin-axios/assets/js/14.21b87ad0.js" as="script"><link rel="prefetch" href="/plugin-axios/assets/js/10.2bd9b6f4.js"><link rel="prefetch" href="/plugin-axios/assets/js/11.6c550d4d.js"><link rel="prefetch" href="/plugin-axios/assets/js/12.abf79487.js"><link rel="prefetch" href="/plugin-axios/assets/js/13.926662cf.js"><link rel="prefetch" href="/plugin-axios/assets/js/15.b3c77373.js"><link rel="prefetch" href="/plugin-axios/assets/js/3.8ef03458.js"><link rel="prefetch" href="/plugin-axios/assets/js/4.235e82a3.js"><link rel="prefetch" href="/plugin-axios/assets/js/5.c58cc775.js"><link rel="prefetch" href="/plugin-axios/assets/js/6.3dc242b6.js"><link rel="prefetch" href="/plugin-axios/assets/js/7.920962bc.js"><link rel="prefetch" href="/plugin-axios/assets/js/8.75538d5b.js"><link rel="prefetch" href="/plugin-axios/assets/js/9.43aed0a7.js">
    <link rel="stylesheet" href="/plugin-axios/assets/css/0.styles.ba2fb61d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/plugin-axios/" class="home-link router-link-active"><!----> <span class="site-name">Vuex ORM Axios</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/plugin-axios/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/plugin-axios/api/model.html" class="nav-link">API Reference</a></div><div class="nav-item"><a href="https://github.com/vuex-orm/plugin-axios/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Release Notes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/vuex-orm/plugin-axios" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/plugin-axios/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="/plugin-axios/api/model.html" class="nav-link">API Reference</a></div><div class="nav-item"><a href="https://github.com/vuex-orm/plugin-axios/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Release Notes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/vuex-orm/plugin-axios" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/plugin-axios/guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/plugin-axios/guide/setup.html" class="sidebar-link">Setup</a></li><li><a href="/plugin-axios/guide/usage.html" class="active sidebar-link">Usage</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugin-axios/guide/usage.html#request" class="sidebar-link">Request</a></li><li class="sidebar-sub-header"><a href="/plugin-axios/guide/usage.html#response" class="sidebar-link">Response</a></li></ul></li><li><a href="/plugin-axios/guide/configurations.html" class="sidebar-link">Configurations</a></li><li><a href="/plugin-axios/guide/custom-actions.html" class="sidebar-link">Custom Actions</a></li><li><a href="/plugin-axios/guide/sponsors.html" class="sidebar-link">Sponsors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="usage"><a href="#usage" aria-hidden="true" class="header-anchor">#</a> Usage</h1> <p>After setting up Vuex ORM Axios, you may use <code>Model.api</code> method to perform api call.</p> <div class="language-js extra-class"><pre class="language-js"><code>User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="request"><a href="#request" aria-hidden="true" class="header-anchor">#</a> Request</h2> <p>Vuex ORM Axios can perform all basic Axios requests, which is <code>get</code>, <code>post</code>, <code>put</code>, <code>patch</code>, <code>delete</code>, and <code>request</code>. These methods take the same arguments as Axios and perform exactly as same as Axios, except it's going to store response data to the store corresponding to the Model that is calling the api.</p> <p>Available methods and the argument pattern is listed below. Remember, the argument is the same as the corresponding Axios methods. The <code>data</code> or <code>config</code> will be passed directly to the underlining Axios instance.</p> <div class="language-js extra-class"><pre class="language-js"><code>User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> config<span class="token punctuation">)</span>
User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> config<span class="token punctuation">)</span>
User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> config<span class="token punctuation">)</span>
User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">patch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> config<span class="token punctuation">)</span>
User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> config<span class="token punctuation">)</span>
User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
</code></pre></div><p>When calling any of the above methods, Vuex ORM Axios will persist the response data to the store. Let's say your api response is as follows.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Response body data.</span>

<span class="token punctuation">{</span>
  <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;John Doe&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;age&quot;</span><span class="token punctuation">:</span> <span class="token number">24</span>
<span class="token punctuation">}</span>
</code></pre></div><p>And if you call api from User Model, the above data will be inserted as User records to the store.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Call api from User Model.</span>
User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">)</span>

<span class="token comment">// Then, inside Vuex Store.</span>
<span class="token punctuation">{</span>
  users<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token number">1</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'John Doe'</span><span class="token punctuation">,</span> age<span class="token punctuation">:</span> <span class="token number">24</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Now, remember that Vuex ORM Axios will try to insert any response data to the store. For example, if you call the same API from Post Model, it's going to try to insert the response as Post records. So be aware of what Model to call the API from.</p> <p>Also, note that these methods can take the same configuration as Axios.</p> <div class="language-js extra-class"><pre class="language-js"><code>User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  baseURL<span class="token punctuation">:</span> <span class="token string">'https://example.com/api/'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>There're additional configuration specific to Vuex ORM Axios as well. Please check out <a href="configurations">Configurations page</a> for more.</p> <h3 id="note-on-delete-method"><a href="#note-on-delete-method" aria-hidden="true" class="header-anchor">#</a> Note on Delete Method</h3> <p>Even when you call <code>delete</code> method, it will not delete records from the store. It just means that it will perform HTTP DELETE request. If you want to delete the record after calling the API, you must define <code>delete</code> option.</p> <div class="language-js extra-class"><pre class="language-js"><code>User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/api/users/1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token keyword">delete</span><span class="token punctuation">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>The above example will delete the user record with an id of 1. Please check out <a href="configurations">Configurations page</a> for more.</p> <h2 id="response"><a href="#response" aria-hidden="true" class="header-anchor">#</a> Response</h2> <p>The response object is a bit different from Axios response and contains 2 properties. One is <code>response</code>, which is the pure Axios response object, and the second one is the <code>entities</code>, which holds Vuex ORM persistent result.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">)</span>

<span class="token comment">// You may access Axios response object like this.</span>
result<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status <span class="token comment">// &lt;- 200</span>

<span class="token comment">// And Vuex ORM persisted entities like so.</span>
result<span class="token punctuation">.</span>entities <span class="token comment">// &lt;- { users: [{ ... }] }</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/plugin-axios/guide/setup.html" class="prev">Setup</a></span> <span class="next"><a href="/plugin-axios/guide/configurations.html">Configurations</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/plugin-axios/assets/js/app.12a3e5b4.js" defer></script><script src="/plugin-axios/assets/js/2.3e3116f1.js" defer></script><script src="/plugin-axios/assets/js/14.21b87ad0.js" defer></script>
  </body>
</html>
